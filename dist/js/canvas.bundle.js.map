{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/arrow.js","webpack:///./src/canvas.js","webpack:///./src/collider.js","webpack:///./src/collision_box.js","webpack:///./src/collision_sphere.js","webpack:///./src/consts.js","webpack:///./src/target.js","webpack:///./src/utils.js"],"names":["CONST","arrowImage","Image","src","Arrow","x","y","vect","dx","vel","VEL_DIV","Math","cos","theta","dy","sin","arrow_length","landed","hitBox","CollisionSphere","ctx","targets","hit","forEach","targetHit","target","atan2","abs","innerHeight","FLOOR","setLanded","GRAVITY","draw","update","arrowHB","targetHB","distX","w","distY","h","r","x2","y2","console","log","save","translate","rotate","drawImage","restore","module","exports","canvas","document","querySelector","c","getContext","translated","lastPos","arrows","width","innerWidth","height","mouse","VECTOR_LENGTH","colors","drag","mousedown","max","addEventListener","event","clientX","clientY","dragLine","arrow","push","Object","radius","color","prototype","beginPath","arc","PI","fillStyle","fill","closePath","Target","myImage","drawBow","mD","sX","floor","sY","degs","mouseDrag","dist","utils","distance","angle","moveTo","lineTo","strokeStyle","stroke","fillText","round","animate","clearRect","requestAnimationFrame","deltaX","deltaY","lineWidth","Collider","CollisionBox","rect","value","changeY","newY","randomIntFromRange","min","random","randomColor","length","x1","y1","xDist","yDist","sqrt","pow","cx","cy","ex","ey"],"mappings":"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","file":"./js/canvas.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/canvas.js\");\n","import utils from './utils'\nimport CollisionSphere from './collision_sphere'\nimport * as CONST from './consts'\n\nconst arrowImage = new Image();\narrowImage.src = '../assets/arrow.png'\n\nclass Arrow {\n    constructor(x, y, vect) {\n        this.x = x;\n        this.y = y;\n        this.dx = -(vect.vel/CONST.VEL_DIV) * Math.cos(vect.theta);\n        this.dy = -(vect.vel/CONST.VEL_DIV) * Math.sin(vect.theta);\n        this.arrow_length = 40;\n        this.landed = false;\n        this.hitBox = new CollisionSphere(0 ,0 , 5);\n    }\n\n   update(ctx, targets){\n       let hit = false;\n        targets.forEach( target => {\n            if(this.targetHit(target)){\n                hit = true\n            }\n        })\n        const theta = Math.atan2 (this.dy,this.dx);\n        // if ()\n       if (Math.abs(theta) < .30 && this.y > innerHeight-CONST.FLOOR){\n           this.dy = -this.dy/1.5\n           this.dx = this.dx/2\n           if(this.dy < .1 && this.dy > -.1){\n               this.dy = 0\n           }\n\n           \n           \n        }else if( this.y > innerHeight-CONST.FLOOR || hit){\n           \n            this.setLanded()\n       } else {\n          \n           this.dy += CONST.GRAVITY\n       }\n\n        this.x += this.dx\n        this.y += this.dy;\n        this.draw(ctx);\n        this.hitBox.update(ctx)\n    }\n\n    setLanded(){\n        if(!this.landed){\n            this.landed = Math.atan2 (this.dy,this.dx);\n        }\n        this.dy = 0\n        this.dx = 0\n\n    }\n\n    targetHit(target){\n        const arrowHB = this.hitBox;\n        const targetHB = target.hitBox;\n\n        const distX = Math.abs(arrowHB.x - targetHB.x -targetHB.w/2);\n        const distY = Math.abs(arrowHB.y - targetHB.y -targetHB.h/2);\n\n        if (distX > (targetHB.w/2 + arrowHB.r)) {return false}\n        if (distY > (targetHB.h/2 + arrowHB.r)) {return false}\n\n        if (distX <= (targetHB.w/2)) {return true}\n        if (distY <= (targetHB.h/2)) {return true}\n\n        const dx = distX-targetHB.w/2;\n        const dy = distY-targetHB.h/2;\n        return (dx*dx+dy*dy<=(arrowHB.r*arrowHB.r));\n    }\n\n    draw (ctx){\n        let theta\n        let h = 9\n        let w = 69\n\n        if(!this.landed){\n            theta = Math.atan2 (this.dy,this.dx);\n        } else {\n            theta = this.landed\n        } \n\n\n        let x2 = this.x + w * Math.cos(theta)\n        let y2 = this.y + w * Math.sin(theta)\n        console.log(`${x2} ${this.x}`)\n        this.hitBox.x = x2;\n        this.hitBox.y = y2;\n\n        ctx.save();\n        ctx.translate(this.x + w / 2, this.y + h/ 2);\n        // console.log(drag.degs * Math.PI / 180)\n        ctx.rotate(theta);\n        // c.drawImage(myImage, sX,sY, w, h, -w/2, -h/2, w, h)\n        ctx.drawImage(arrowImage, 0, 0, w, h, -w/2, -h/2, w, h)\n        ctx.restore();\n        \n        // ctx.beginPath()\n        // ctx.moveTo(this.x, this.y)\n        // ctx.lineTo(x2, y2)\n        // ctx.strokeStyle = \"black\"\n        // ctx.lineWidth = 5\n        // ctx.stroke()\n        // ctx.closePath();\n    }\n\n}\n\nmodule.exports = Arrow;","import utils from './utils';\nimport Arrow from './arrow'\nimport Target from './target'\nimport * as CONST from './consts'\n\nconst canvas = document.querySelector('canvas')\nconst c = canvas.getContext('2d')\n\nlet translated = {x:0, y: 0};\nlet lastPos = {x: 0, y:0 };\nlet arrows = [];\ncanvas.width = innerWidth\ncanvas.height = innerHeight\n\n// c.scale(1,-1)\n// c.translate(0,)\nconst mouse = {\n    x: innerWidth / 2,\n    y: innerHeight / 2\n}\n\n// Constants\nconst FLOOR = CONST.FLOOR\nconst VECTOR_LENGTH = CONST.VECTOR_LENGTH\n\nconst colors = ['#2185C5', '#7ECEFD', '#FFF6E5', '#FF7F66']\n\nconst drag = {\n    mousedown: false,\n    max: VECTOR_LENGTH,\n    x: 0,\n    y: 0,\n    vel:0,\n    theta:0\n};\n\n// Event Listeners\naddEventListener('mousemove', event => {\n    mouse.x = event.clientX\n    mouse.y = event.clientY\n})\n\naddEventListener('mousedown', event => {\n    c.translate(translated.x, translated.y)\n    translated.x = 0\n    translated.y = 0\n\n    drag.mousedown = true;\n    drag.x = event.clientX\n    drag.y = event.clientY\n\n    lastPos.x = innerWidth/2\n    lastPos.y  = innerHeight-FLOOR-1\n    // arrow = new Arrow(0 ,0, 0, 0)\n    \n    // c.restore()\n\n})\n\naddEventListener('mouseup', event => {\n\n    drag.mousedown = false\n    dragLine = drag\n    delete drag.mousedown\n    arrow = new Arrow(innerWidth/2,innerHeight-FLOOR-160, dragLine)\n\n    arrows.push(arrow)\n\n    lastPos.x = innerWidth/2;\n    lastPos.y = innerHeight-FLOOR-10;\n})\n\naddEventListener('resize', () => {\n    canvas.width = innerWidth\n    canvas.height = innerHeight\n\n})\n\n// Objects\nfunction Object(x, y, radius, color) {\n    this.x = x\n    this.y = y\n    this.radius = radius\n    this.color = color\n}\n\nObject.prototype.draw = function() {\n    c.beginPath()\n    c.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false)\n    c.fillStyle = this.color\n    c.fill()\n    c.closePath()\n    \n    \n}\n\nObject.prototype.update = function() {\n    this.draw()\n}\n\n\n// Implementation\nlet dragLine\nlet arrow;\nlet targets = [];\ntargets.push(new Target(1500, 0, 100))\ntargets.push(new Target(3000, 0, 500))\ntargets.push(new Target(2500, 0, 1000))\n\nlet myImage = new Image();\nmyImage.src = '../assets/bow.png'\n// myImage.onload = function() { drawBow();} \n\nfunction drawBow(x, y) {\n    c.save();\n    let mD = drag.mousedown ? 109 : 0\n    let sX = ((Math.floor((1119*drag.vel/100)/109)*109  ) + mD)\n    let sY = (sX > 545 ? 140 : 0)\n    sX = sX % 654\n    c.translate(x + 109 / 2, y + 140/ 2);\n    c.rotate(-drag.degs * Math.PI / 180);\n    c.drawImage(myImage, sX,sY, 109, 140, -109/2, -140/2, 109, 140)\n    c.restore();\n}\n\nconst mouseDrag = c => {\n    let x = mouse.x;\n        let y = mouse.y;\n        let dist = utils.distance(drag.x, drag.y, x, y);\n\n        let theta = utils.angle(drag.x, drag.y, x, y)\n        let degs = utils.angle(x, y, drag.x, drag.y);\n        degs *= -180 / Math.PI\n        if(  dist > drag.max){\n            // Math.pow(drag.max, 2)\n            x = drag.x + drag.max * Math.cos(theta)\n            y = drag.y + drag.max * Math.sin(theta)\n            dist = drag.max\n        }\n        let vel = (dist/drag.max)*100\n        c.beginPath()\n        c.moveTo(drag.x, drag.y)\n        c.lineTo(x, y)\n        c.strokeStyle = \"black\"\n        c.stroke()\n        c.closePath();\n        c.fillText(Math.round(100*degs)/100, drag.x, drag.y)\n        c.fillText(Math.round(100*vel)/100, x, y)\n\n        drag.degs = degs\n        drag.vel = vel\n        drag.theta= theta\n\n}\n\n// Animation Loop\nfunction animate() {\n    c.clearRect(translated.x, translated.y, canvas.width, canvas.height)\n    requestAnimationFrame(animate)\n    \n    let deltaX = 0\n    let deltaY = 0\n    \n    if(arrow && !arrow.landed){\n        \n        // arrow.update(c);\n        deltaX = arrow.x - lastPos.x\n        deltaY = arrow.y - lastPos.y\n        translated.x += deltaX\n        translated.y += deltaY\n        lastPos.x = arrow.x\n        lastPos.y = arrow.y\n    }\n    c.translate(-deltaX, -deltaY)\n    targets.forEach(target => target.update(c))\n    arrows.forEach(arrow => arrow.update(c, targets))\n    drawBow(innerWidth/2, innerHeight-FLOOR-200,)\n    \n    if(drag.mousedown){\n        mouseDrag(c)\n    }\n     // Line \n     c.beginPath()\n     c.moveTo(0, innerHeight-FLOOR)\n     c.lineTo(10000, innerHeight-FLOOR)\n     c.strokeStyle = \"black\"\n     c.lineWidth = 1\n\n     c.stroke()\n     c.closePath();\n     \n}\n\nanimate()","import utils from './utils'\nimport * as CONST from './consts'\n\nclass Collider {\n    constructor(x, y) {\n        this.x = x\n        this.y = y\n    }\n\n   update(ctx){\n        this.draw(ctx);\n    }\n\n}\n\nmodule.exports = Collider;","import Collider from './collider'\nimport utils from './utils'\nimport * as CONST from './consts'\n\n\nclass CollisionBox extends Collider{\n    constructor(x, y, w, h) {\n        super(x,y)\n        this.w = w\n        this.h = h\n    }\n\n    draw (ctx){\n        \n        ctx.beginPath()\n        ctx.rect(this.x, this.y, this.w, this.h)\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = 'red'\n        ctx.stroke();\n        ctx.closePath();\n    }\n\n}\n\nmodule.exports = CollisionBox;","import Collider from './collider'\nimport utils from './utils'\nimport * as CONST from './consts'\n\n\nclass CollisionSphere extends Collider{\n    constructor(x,y, r) {\n        super(x,y)\n        this.r = r\n    }\n\n    draw (ctx){\n        \n        ctx.beginPath()\n        ctx.arc(this.x, this.y, this.r, 0, Math.PI * 2, false)\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = 'red'\n        ctx.stroke();\n        ctx.closePath();\n    }\n\n}\n\nmodule.exports = CollisionSphere;","export const FLOOR = innerHeight/2\nexport const VECTOR_LENGTH = 200\nexport const VEL_DIV = 2\nexport const GRAVITY = .5","import utils from './utils'\nimport CollisionBox from './collision_box'\nimport * as CONST from './consts'\n\nclass Target {\n    constructor(x, y, value) {\n        this.x = x\n        this.y = innerHeight-CONST.FLOOR - 20 + y\n        this.w = 20\n        this.h = 100\n        this.hitBox = new CollisionBox(this.x, this.y, this.w, this.h)\n        this.value = value\n    }\n\n   update(ctx){\n        this.changeY();\n        this.draw(ctx);\n        this.hitBox.update(ctx)\n    }\n\n    changeY(){\n        const newY =  innerHeight-CONST.FLOOR -100- 20;\n        this.y = newY\n        this.hitBox.y = newY\n    }\n\n\n    draw (ctx){\n        \n        ctx.beginPath()\n        ctx.rect(this.x, this.y, this.w, this.h);\n        ctx.stroke();\n        ctx.closePath();\n    }\n\n}\n\nmodule.exports = Target;","function randomIntFromRange(min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min)\n}\n\nfunction randomColor(colors) {\n    return colors[Math.floor(Math.random() * colors.length)]\n}\n\nfunction distance(x1, y1, x2, y2) {\n    const xDist = x2 - x1\n    const yDist = y2 - y1\n\n    return Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2))\n}\n\nfunction angle(cx, cy, ex, ey) {\n    let dy = ey - cy;\n    let dx = ex - cx;\n    let theta = Math.atan2(dy, dx); // range (-PI, PI]\n    // theta *= 180 / Math.PI; // rads to degs, range (-180, 180]\n    // if (theta < 0) theta = 360 + theta; // range [0, 360)\n    return theta;\n  }\n\nmodule.exports = { randomIntFromRange, randomColor, distance, angle }"],"sourceRoot":""}